<{include file="admin/public/header.html"}>
<div class="am-cf admin-main">
  <!-- sidebar start -->
  <{include file='admin/public/left.html'}>
  <!-- sidebar end -->

  <!-- content start -->
  <div class="admin-content">

    <div class="am-cf am-padding">
      <div class="am-fl am-cf"><strong class="am-text-primary am-text-lg">表格</strong> / <small>Table</small></div>
      <div class="am-alert am-alert-success am-u-end success-msg" id="success-msg">添加成功！</div>
    </div>

    <div class="am-g">
      <div class="am-u-sm-12 am-u-md-6">
        <div class="am-btn-toolbar">
          <div class="am-btn-group am-btn-group-xs">
          </div>
        </div>
      </div>
    </div>

    <div class="am-g">
      <div class="am-u-sm-12">
        <form class="am-form">
          <table class="am-table am-table-striped ">
          <tbody>
            <{foreach from=$list item="val"}>
            <tr>
              <td>
              <input type="checkbox" name="parent<{$val.id}>" onclick="check(<{$val.id}>)"  <{if in_array($val.id,$auth)}>checked=checked<{/if}>/>
              <span><strong><{$val.title}></strong></span>
              </td>
            </tr>
            <{foreach from=$val.child item="va"}>
            <tr>
              <td>
              &nbsp;&nbsp;&nbsp;
              <input type="checkbox" name="check<{$val.id}>" onclick="check(<{$va.id}>)" <{if in_array($va.id,$auth)}>checked<{/if}>/>
              <{$va.title}>
              </td>
              <{foreach from=$va.child item="v"}>
              <td>
              <input type="checkbox" name="check<{$val.id}>" onclick="check(<{$v.id}>)"  <{if in_array($v.id,$auth)}>checked<{/if}>/>
              <{$v.title}>
              </td>
              <{/foreach}>
            </tr>
            <{/foreach}>
            <{/foreach}>
            
          </tbody>
        </table>
        <div class="am-cf">
          <div class="am-fr">
              <ul class="am-pagination">
              </ul>
          </div>
        </div>
          <hr />
          <p>注：.....</p>
        </form>
      </div>

    </div>
  </div>
  <!-- content end -->
</div>
<{include file='admin/public/footer.html'}>
<script>
  function check(id)
  {
    var parent = $('input[name="parent' + id + '"]');
    var check = $('input[name="check' + id + '"]');
    if (parent.attr('checked') == 'checked' || parent.attr('checked') == true) 
    {
      parent.attr('checked', false);
      check.attr('checked', false); 
    }
    else
    {
      check.attr('checked', true); 
      parent.attr('checked', true);
    }
    // for (var i = 0; i < check.length; i++) {  
    //     if(check[i].checked == false){  
    //       check[i].checked = true;
    //     }
    //     else
    //     {
    //       check[i].checked = false;
    //     }
    // } 
  }

</script>
</body>
</html>
